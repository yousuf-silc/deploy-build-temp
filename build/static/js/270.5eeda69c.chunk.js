"use strict";(self.webpackChunksilc=self.webpackChunksilc||[]).push([[270],{8270:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(4165),o=t(5861),s=t(885),i=t(2791),a=t(6713),d=t(7571),c=t(2961),l=t(4483),u=t(5122),h=t(184),f=function(e){var n=(0,d.k6)(),t=function(){n.push("/application-user-dashboard")},s=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(){var o;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o="".concat("http://ec2-54-79-114-57.ap-southeast-2.compute.amazonaws.com",":").concat("3030","/api/"),window.open("".concat(o,"v2/invform/review/").concat(null===e||void 0===e?void 0:e.formId,"/pdf")),t();case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,h.jsxs)(c.Z,{id:"download-pdf",show:e.show,onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,h.jsx)(c.Z.Header,{children:(0,h.jsx)(c.Z.Title,{id:"contained-modal-title-vcenter",children:"Thank you for submitting the form!"})}),(0,h.jsxs)(c.Z.Body,{children:[(0,h.jsx)("em",{children:(0,h.jsx)("h5",{className:"u-padding-10y",children:"The SILC Group will get back to you shortly."})}),(0,h.jsxs)("h6",{className:"u-padding-10y download-text",children:[(0,h.jsx)(l.G,{icon:u.r5q}),"Download the form PDF here"]}),(0,h.jsxs)("button",{className:"btn-demo btn-primary-forms",onClick:s,children:["Download PDF",(0,h.jsx)(l.G,{icon:u.gSj})]})]}),(0,h.jsx)(c.Z.Footer,{children:(0,h.jsxs)("button",{className:"btn-demo btn-secondary dashboard-btn",id:"dashboard-btn",onClick:t,style:{width:"300px"},children:[(0,h.jsx)(l.G,{icon:u.acZ}),(0,h.jsx)(h.Fragment,{children:"Go Back to Dashboard"})]})})]})},m=function(e){return(0,h.jsxs)(c.Z,{id:"download-pdf",show:e.show,onHide:e.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,h.jsx)(c.Z.Header,{closeButton:!0,children:(0,h.jsx)(c.Z.Title,{id:"contained-modal-title-vcenter",children:"Something went wrong.."})}),(0,h.jsx)(c.Z.Body,{children:(0,h.jsx)("h5",{children:e.errors})})]})},v=t(8792),p=function(e){var n=e.response,t=e.formId,d=(0,i.useState)(!1),c=(0,s.Z)(d,2),l=c[0],u=c[1],p=(0,i.useState)(!1),x=(0,s.Z)(p,2),w=x[0],b=x[1],j=(0,i.useState)(!1),Z=(0,s.Z)(j,2),g=Z[0],y=Z[1],k=(0,i.useState)({}),H=(0,s.Z)(k,2),S=H[0],I=H[1],B=(0,i.useRef)();(0,i.useEffect)((function(){return function(){B.current=null}}),[]),(0,i.useEffect)((function(){if(n){var e,t=(new DOMParser).parseFromString(n,"text/html");null===(e=B.current)||void 0===e||e.appendChild(t.body),E()}return function(){D()}}),[n]);var C=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n,o,s,i,d,c,l,h,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,a.Z.post("v2/invform/submit/".concat(t));case 4:s=e.sent,y(!1),null!==s&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&n.success&&null!==s&&void 0!==s&&null!==(o=s.data)&&void 0!==o&&o.message&&u(!0),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),422===(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.status)?(d=e.t0.response.data,d.errors,c=d.message,d.success,I({message:c})):(f=(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(h=l.data)||void 0===h?void 0:h.message)||"Please try again after some time",I({message:f})),y(!1),b(!0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=document.getElementById("submit-review");e&&e.removeEventListener("click",(function(){C()}))},E=function(){var e=document.getElementById("submit-review");e&&e.addEventListener("click",(function(){C()}))};return(0,h.jsxs)("div",{className:"review-section",children:[(0,h.jsx)(v.Z,{loading:g}),(0,h.jsx)("h2",{children:"Review Form"}),(0,h.jsx)("div",{id:"form-review",ref:B}),(0,h.jsx)(f,{backdrop:"static",show:l,onHide:function(){return u(!0)},keyboard:!1,formId:t}),(0,h.jsx)(m,{backdrop:"static",show:w,onHide:function(){return b(!1)},keyboard:!1,formId:t,errors:(null===S||void 0===S?void 0:S.message)||""})]})}}}]);
//# sourceMappingURL=270.5eeda69c.chunk.js.map