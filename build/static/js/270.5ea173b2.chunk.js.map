{"version":3,"file":"static/js/270.5ea173b2.chunk.js","mappings":"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","sources":["components/Forms/ReviewForm/SuccessModal.js","components/Forms/ReviewForm/ErrorModal.js","components/Forms/ReviewForm/ReviewFormContent.js"],"sourcesContent":["import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFilePdf, faArrowLeft, faArrowDown } from '@fortawesome/fontawesome-free-solid';\r\n\r\nconst SuccessModal = (props) => {\r\n\r\n  const history = useHistory();\r\n\r\n  const goToDashboard = () => {\r\n    history.push('/application-user-dashboard');\r\n  }\r\n\r\n  const getPDF = async () => {\r\n    const baseURL = `${process.env.REACT_APP_API_BASE_URL}:${process.env.REACT_APP_API_PORT}/api/`;\r\n    window.open(`${baseURL}v2/invform/review/${props?.formId}/pdf`);\r\n    goToDashboard();\r\n  }\r\n\r\n  return (\r\n      <Modal id=\"download-pdf\"\r\n      show={props.show}\r\n      onHide={props.onHide}\r\n      size=\"lg\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n        Thank you for submitting the form!\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <em><h5 className=\"u-padding-10y\">The SILC Group will get back to you shortly.</h5></em>\r\n        <h6 className=\"u-padding-10y download-text\"><FontAwesomeIcon icon={faArrowDown} />Download the form PDF here</h6>\r\n        <button className=\"btn-demo btn-primary-forms\" onClick={getPDF}>Download PDF<FontAwesomeIcon icon={faFilePdf}/></button>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n      <button className=\"btn-demo btn-secondary dashboard-btn\" id=\"dashboard-btn\" onClick={goToDashboard} style={{ width: '300px'}}><FontAwesomeIcon icon={faArrowLeft} /><>Go Back to Dashboard</></button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default SuccessModal;","import React from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nconst ErrorModal = (props) => {\r\n\r\n  return (\r\n    <Modal id=\"download-pdf\"\r\n      show={props.show}\r\n      onHide={props.onHide}\r\n      size=\"md\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n            Something went wrong..\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <h5>{props.errors}</h5>\r\n      </Modal.Body>\r\n    </Modal>\r\n   \r\n  )\r\n}\r\n\r\nexport default ErrorModal;","import React, { useState, useEffect, useRef } from 'react';\r\nimport api from '../../../api/api';\r\nimport SuccessModal from './SuccessModal';\r\nimport ErrorModal from './ErrorModal';\r\nimport Backdrop from '../Layout/Backdrop';\r\nconst ReviewFormContent = ({ response, formId }) => {\r\n\r\n    const [ modalShow, setModalShow ] = useState(false);\r\n    const [ errorModal, setErrorModal ] = useState(false);\r\n    const [loader, setLoader] = useState(false);\r\n    const [ errorMessage, setErrorMessage ] = useState({});\r\n\r\n    const formRef = useRef();\r\n\r\n    useEffect(() => {\r\n        //clear refs when component unmounts\r\n        return () => {\r\n            formRef.current=null\r\n        }\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if(response){\r\n            const parser = new DOMParser();\r\n            const htmlStr = parser.parseFromString(response, 'text/html');\r\n            formRef.current?.appendChild(htmlStr.body);\r\n            setEventListeners();\r\n        }\r\n\r\n        return () => {\r\n            removeEventListeners();\r\n        }\r\n\r\n    }, [response]);\r\n\r\n    const submitForm = async () => {\r\n        try{\r\n            setLoader(true)\r\n            const res = await api.post(`v2/invform/submit/${formId}`);\r\n            setLoader(false)\r\n            if(res?.data?.success && res?.data?.message){\r\n                setModalShow(true);\r\n            }\r\n        }\r\n        catch(error){\r\n            if(error?.response?.status === 422) { //form \r\n                const { errors, message, success } = error.response.data;\r\n                setErrorMessage({ message });\r\n            }\r\n            else{\r\n                const customErrorMessage = error?.response?.data?.message || \"Please try again after some time\";\r\n                setErrorMessage({ message: customErrorMessage });\r\n            }\r\n            setLoader(false)\r\n            setErrorModal(true);\r\n        }\r\n    }\r\n\r\n    const removeEventListeners = () =>{\r\n        const submitReview = document.getElementById('submit-review');\r\n\r\n        if(submitReview){\r\n            submitReview.removeEventListener('click', () => {\r\n                submitForm();\r\n            })\r\n        }\r\n    }\r\n\r\n    const setEventListeners = () => {\r\n        const submitReview = document.getElementById('submit-review');\r\n\r\n        if(submitReview){\r\n            submitReview.addEventListener('click', () => {\r\n                submitForm();\r\n            })\r\n        }\r\n    }\r\n\r\n  return (\r\n        <div className=\"review-section\">\r\n            <Backdrop loading={loader}/>\r\n            <h2>Review Form</h2>\r\n            <div id=\"form-review\" ref={formRef}>\r\n                \r\n            </div>\r\n            \r\n            <SuccessModal\r\n                backdrop='static'\r\n                show={modalShow}\r\n                onHide={() => setModalShow(true)}\r\n                keyboard={false}\r\n                formId={formId}\r\n            />\r\n\r\n            <ErrorModal\r\n                backdrop='static'\r\n                show={errorModal}\r\n                onHide={() => setErrorModal(false)}\r\n                keyboard={false}\r\n                formId={formId}\r\n                errors={errorMessage?.message || ''}\r\n            />\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default ReviewFormContent;"],"names":["props","history","useHistory","goToDashboard","push","getPDF","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","baseURL","wrap","_context","prev","next","concat","process","window","open","formId","stop","apply","arguments","_jsxs","Modal","id","show","onHide","size","centered","children","_jsx","className","FontAwesomeIcon","icon","faArrowDown","onClick","faFilePdf","style","width","faArrowLeft","_Fragment","closeButton","errors","response","_useState","useState","_useState2","_slicedToArray","modalShow","setModalShow","_useState3","_useState4","errorModal","setErrorModal","_useState5","_useState6","loader","setLoader","_useState7","_useState8","errorMessage","setErrorMessage","formRef","useRef","useEffect","current","_formRef$current","htmlStr","DOMParser","parseFromString","appendChild","body","setEventListeners","removeEventListeners","submitForm","_ref2","_res$data","_res$data2","res","_error$response","_error$response$data","message","_error$response2","_error$response2$data","customErrorMessage","api","sent","data","success","t0","status","submitReview","document","getElementById","removeEventListener","addEventListener","Backdrop","loading","ref","SuccessModal","backdrop","keyboard","ErrorModal"],"sourceRoot":""}